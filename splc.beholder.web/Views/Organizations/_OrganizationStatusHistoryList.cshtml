@model IEnumerable<OrganizationStatusHistory>
@using splc.domain.Models
@{
    const string viewItem = "Status Histories";
}
<div class="panel panel-primary">
    <div class="panel panel-heading">@viewItem <span class="badge pull-right">@string.Format("{0}", Model.Count())</span></div>
    <div class="panel-body">
        <table class="table table-condensed table-hover">
            <tr>
                <td>Date Created</td>
                <td>Created User</td>
                <td>Active Year</td>
                <td>Active Status</td>
                <td>Report Status</td>
            </tr> 
            @if (!Model.Any())
            {
                <tr>
                    <td>No Status Histories</td>
                </tr>
            }           
            @foreach (var item in Model)
            {
            <tr>
                <td>@(item.DateCreated == null ? "Unknown" :  @String.Format("{0:d}", item.DateCreated))</td>
                <td>@(item.CreatedUserId == null ? "Unknown" : item.CreatedUser.UserName)</td>
                <td>@(item.ActiveYear == null ? "Unknown" : item.ActiveYear.ToString())</td>
                <td>@(item.ActiveStatusId == null ? "Unknown" : item.ActiveStatus.Name)</td>
                <td>@(item.ReportStatusFlag == null ? "Unknown" : item.ReportStatusFlag.ToString())</td>
            </tr>
            }            
        </table>
    </div>
    <div class="panel-footer">
    </div>
</div>

